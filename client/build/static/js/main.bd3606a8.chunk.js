(this["webpackJsonpquiz-app-frontend"]=this["webpackJsonpquiz-app-frontend"]||[]).push([[0],[,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),r=Object(n.createContext)({isLoggedIn:!1,userId:null,token:null,role:null,login:function(){},logout:function(){}})},,,function(e,t,a){e.exports=a.p+"static/media/loading.1d98a529.gif"},,function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));a(37);var n=function(e){return{type:"MINLENGTH",val:e}},r=function(){return{type:"EMAIL"}}},function(e,t,a){"use strict";var n=a(8),r=a.n(n),l=a(15),c=a(4),o=a(0);t.a=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],u=Object(o.useState)(),i=Object(c.a)(u,2),s=i[0],m=i[1],p=Object(o.useRef)([]),b=Object(o.useCallback)(function(){var e=Object(l.a)(r.a.mark((function e(t){var a,l,c,o,u,i,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"GET",l=s.length>2&&void 0!==s[2]?s[2]:null,c=s.length>3&&void 0!==s[3]?s[3]:{},n(!0),o=new AbortController,p.current.push(o),e.prev=6,e.next=9,fetch(t,{method:a,body:l,headers:c,signal:o.signal});case 9:return u=e.sent,e.next=12,u.json();case 12:if(i=e.sent,p.current=p.current.filter((function(e){return e!==o})),u.ok){e.next=16;break}throw new Error(i.message);case 16:return n(!1),e.abrupt("return",i);case 20:throw e.prev=20,e.t0=e.catch(6),m(e.t0.message),n(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(o.useEffect)((function(){return function(){p.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:s,sendRequest:b}}},function(e,t,a){e.exports=a.p+"static/media/error.5e9355f4.gif"},,function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),r=Object(n.createContext)("")},function(e,t,a){"use strict";var n=a(22),r=a(27),l=a(4),c=a(0);t.a=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],o=t[1];return[a,function(e){e.persist(),o((function(t){return Object(r.a)(Object(r.a)({},t),{},Object(n.a)({},e.target.name,e.target.value))}))}]}},,,,,,,function(e,t,a){"use strict";var n=a(0),r=a.n(n),l=a(11);t.a=function(){var e=Object(n.useContext)(l.a);return e.token&&r.a.createElement("div",{className:"logout"},r.a.createElement("button",{onClick:e.logout,className:"logout-btn"},"Logout"))}},,,function(e,t,a){},,,,,function(e,t,a){e.exports=a.p+"static/media/math2.44c7f489.gif"},,function(e,t,a){e.exports=a(51)},,,,,function(e,t,a){},,,function(e,t,a){},,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(32),o=a.n(c),u=a(4),i=(a(43),a(2)),s=a(12),m=a(9),p=a(10),b=a.n(p),g=(a(46),a(20)),d=a(28),E=function(){var e=Object(r.useContext)(g.a),t=e.gameLevel,a=e.setGameLevel,n=Object(r.useState)(""),c=Object(u.a)(n,2),o=c[0],i=c[1];return l.a.createElement(r.Fragment,null,l.a.createElement(m.a,null,l.a.createElement("title",null,"Math-Quiz App - play/level")),l.a.createElement("section",null,l.a.createElement(d.a,null),l.a.createElement("h1",null,"Select",l.a.createElement(b.a,{color:"orange",size:"5rem"}),"Level"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(t)}},l.a.createElement("select",{className:"select",onChange:function(e){i(e.target.value),a(e.target.value)}},l.a.createElement("option",{className:"select",value:"EASY"},"EASY"),l.a.createElement("option",{className:"select",value:"NORMAL"},"NORMAL"),l.a.createElement("option",{className:"select",value:"HARD"},"HARD")),l.a.createElement("div",{className:"start-btn-container"},l.a.createElement(s.b,{to:"/QuestionCard",className:"start-btn btn"}," ",o," PLAY ")))))},f=a(14),v=a.n(f),h=a(36),O=a.n(h),j=(a(49),function(){return l.a.createElement(r.Fragment,null,l.a.createElement(m.a,null,l.a.createElement("title",null,"Math-Quiz App - Home")),l.a.createElement("div",{className:"card"},l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(b.a,{color:"orange",size:"8rem"})),l.a.createElement("h1",null,"Welcome to Math Quiz App"),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("img",{src:O.a,alt:"light"})),l.a.createElement("div",{className:"signup-btn-container"},l.a.createElement(s.b,{to:"/signup",className:"signup-btn btn"},"SignUp")),l.a.createElement("div",{className:"login-btn-container"},l.a.createElement(s.b,{to:"/login",className:"login-btn btn"},"LogIn"))))}),x=a(8),y=a.n(x),S=a(15),w=a(21),N=(a(31),a(17)),k=a(11),A=a(18),C=a.n(A),L=a(16),z=function(){var e=Object(r.useContext)(k.a),t=Object(w.a)(),a=Object(u.a)(t,2),n=a[0],c=a[1],o=Object(N.a)(),i=o.isLoading,s=o.error,p=o.sendRequest,g=function(){var t=Object(S.a)(y.a.mark((function t(a){var r,l,c,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r="".concat("https://mathquzi.herokuapp.com/api","/signup"),l={name:n.name,email:n.email,password:n.password},c={method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}},t.prev=4,t.next=7,p(r,c.method,c.body,c.headers);case 7:o=t.sent,e.login(o.userId,o.role,o.token),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log("can't create user",t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement(r.Fragment,null,i&&l.a.createElement("img",{src:v.a,alt:"Loading"}),s&&l.a.createElement("img",{src:C.a,alt:"Error"}),!i&&!s&&l.a.createElement(r.Fragment,null,l.a.createElement(m.a,null,l.a.createElement("title",null,"Math-Quiz App - SignUp")),l.a.createElement("section",null,l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(b.a,{color:"orange",size:"8rem"})),l.a.createElement("h1",null,"Welcome to Math Quiz App"),l.a.createElement("form",{onSubmit:g},l.a.createElement("input",{type:"name",name:"name",placeholder:"name",value:n.name||"",onChange:c,className:"inputForm",autoFocus:!0}),l.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:n.email||"",onChange:c,className:"inputForm",validators:[Object(L.a)()]}),l.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:n.password||"",onChange:c,className:"inputForm",validator:[Object(L.b)(6)]}),l.a.createElement("div",{className:"signup-btn-container"},l.a.createElement("button",{type:"submit",className:"signup-btn btn"},"SignUp"))))))},I=function(){var e=Object(r.useContext)(k.a),t=Object(w.a)(),a=Object(u.a)(t,2),n=a[0],c=a[1],o=Object(N.a)(),i=o.isLoading,s=o.error,p=o.sendRequest,g=function(){var t=Object(S.a)(y.a.mark((function t(a){var r,l,c,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r="".concat("https://mathquzi.herokuapp.com/api","/login"),l={email:n.email,password:n.password},c={method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}},t.prev=4,t.next=7,p(r,c.method,c.body,c.headers);case 7:o=t.sent,e.login(o.userId,o.role,o.token),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.log("can't login user",t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return l.a.createElement(r.Fragment,null,i&&l.a.createElement("img",{src:v.a,alt:"Loading"}),s&&l.a.createElement("img",{src:C.a,alt:"Error"}),!i&&!s&&l.a.createElement(r.Fragment,null,l.a.createElement(m.a,null,l.a.createElement("title",null,"Math-Quiz App - SignUp")),l.a.createElement("section",null,l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(b.a,{color:"orange",size:"8rem"})),l.a.createElement("h1",null,"Welcome to Math Quiz App"),l.a.createElement("form",{onSubmit:g},l.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:n.email||"",onChange:c,className:"inputForm",validators:[Object(L.a)()]}),l.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:n.password||"",onChange:c,className:"inputForm",validators:[Object(L.b)(6)]}),l.a.createElement("div",{className:"login-btn-container"},l.a.createElement("button",{type:"submit",className:"login-btn btn"},"LogIn"))))))},D=l.a.lazy((function(){return a.e(3).then(a.bind(null,59))})),F=l.a.lazy((function(){return a.e(5).then(a.bind(null,57))})),M=l.a.lazy((function(){return a.e(4).then(a.bind(null,58))})),Q=function(){var e,t=Object(r.useState)("EASY"),a=Object(u.a)(t,2),c=a[0],o=a[1],m=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(r.useState)(),o=Object(u.a)(c,2),i=o[0],s=o[1],m=Object(r.useState)(!1),p=Object(u.a)(m,2),b=p[0],g=p[1],d=Object(r.useState)(!1),E=Object(u.a)(d,2),f=E[0],v=E[1],h=Object(r.useCallback)((function(e,t,a,n){l(a),v(t),g(e);var r=n||new Date((new Date).getTime()+36e5);s(r),localStorage.setItem("userData",JSON.stringify({userId:e,role:t,token:a,expiration:r.toISOString()}))}),[]),O=Object(r.useCallback)((function(){l(null),v(null),s(null),g(null),localStorage.removeItem("userData")}),[]);return Object(r.useEffect)((function(){if(a&&i){var e=i.getTime()-(new Date).getTime();n=setTimeout(O,e)}else clearTimeout(n)}),[a,O,i]),Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&h(e.userId,e.role,e.token,new Date(e.expiration))}),[h]),{token:a,login:h,logout:O,role:f,userId:b}}(),p=m.token,b=m.login,d=m.role,f=m.logout;return 1===d?e=l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/addQuestions",component:F}),l.a.createElement(i.b,{exact:!0,path:"/newQuestion",component:M}),l.a.createElement(i.a,{to:"/addQuestions"})):p&&0===d?e=l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/play",component:E}),l.a.createElement(i.b,{exact:!0,path:"/QuestionCard",component:D}),l.a.createElement(i.a,{to:"/play"})):p||(e=l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/",component:j}),l.a.createElement(i.b,{exact:!0,path:"/signup",component:z}),l.a.createElement(i.b,{exact:!0,path:"/login",component:I}),l.a.createElement(i.a,{to:"/"}))),l.a.createElement(g.a.Provider,{value:{gameLevel:c,setGameLevel:o}},l.a.createElement(k.a.Provider,{value:{isLoggedIn:!!p,token:p,login:b,logout:f}},l.a.createElement(r.Suspense,{fallback:l.a.createElement("img",{src:v.a,alt:"Loading"})},l.a.createElement(s.a,null,e))))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Q,null)),document.getElementById("root"))}],[[38,1,2]]]);
//# sourceMappingURL=main.bd3606a8.chunk.js.map